namespace Infrastructure;

internal class Utility : object
{
	static Utility()
	{
	}

	public static string GetMD5Hash(string pathName)
	{
		string result = "";
		string hashData = "";

		byte[] arrbytHashValue;
		System.IO.FileStream? fileStream = null;

		var md5Hasher =
			new System.Security.Cryptography.MD5CryptoServiceProvider();

		fileStream =
			new System.IO.FileStream
			(pathName, System.IO.FileMode.Open,
			System.IO.FileAccess.Read,
			System.IO.FileShare.ReadWrite);

		arrbytHashValue =
			md5Hasher.ComputeHash(fileStream);

		fileStream.Close();

		hashData =
			System.BitConverter.ToString(arrbytHashValue);

		hashData =
			hashData.Replace("-", "");

		result = hashData;

		return result;
	}
}
