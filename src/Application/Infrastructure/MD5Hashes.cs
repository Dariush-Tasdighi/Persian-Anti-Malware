namespace Infrastructure;

internal static class MD5Hashes : object
{
	static MD5Hashes()
	{
		List = [];
		//_list = [];
		//_list = new();
	}

	//private static readonly System.Collections.Generic.List<string> _list;

	/// <summary>
	/// Note: Comment below code for better performance!
	/// </summary>
	//public static System.Collections.Immutable.ImmutableList<string> List
	//{
	//	get
	//	{
	//		return [.. _list];
	//		//return _list.ToImmutableList();
	//	}
	//}

	public static System.Collections.Generic.List<string> List { get; }

	public static void Clear()
	{
		List.Clear();
	}

	public static void Add(string? hashItem)
	{
		if (string.IsNullOrWhiteSpace(value: hashItem))
		{
			return;
		}

		hashItem =
			hashItem.Replace
			(oldValue: "\r", newValue: string.Empty);

		hashItem =
			hashItem.Replace
			(oldValue: "\n", newValue: string.Empty);

		hashItem =
			hashItem.Replace
			(oldValue: " ", newValue: string.Empty);

		if (hashItem.Length != 32)
		{
			return;
		}

		if (hashItem.Contains(value: '#'))
		{
			return;
		}

		// TODO
		// Note: Comment below code for better performance!
		//if (List.Contains(item: hashItem))
		//{
		//	return;
		//}

		List.Add(item: hashItem);
	}
}
