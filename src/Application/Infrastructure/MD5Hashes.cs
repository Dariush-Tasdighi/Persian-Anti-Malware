namespace Infrastructure;

internal static class MD5Hashes : object
{
	static MD5Hashes()
	{
		_list = [];
		//_list = new();
	}

	private static readonly System.Collections.Generic.List<string> _list;

	public static System.Collections.Immutable.ImmutableList<string> List
	{
		get
		{
			return [.. _list];
			//return _list.ToImmutableList();
		}
	}

	public static void Clear()
	{
		_list.Clear();
	}

	public static void Add(string? hashItem)
	{
		if (string.IsNullOrWhiteSpace(value: hashItem))
		{
			return;
		}

		hashItem =
			hashItem.Replace
			(oldValue: " ", newValue: string.Empty);

		if (hashItem.Length != 32)
		{
			return;
		}

		if (hashItem.Contains(value: '#'))
		{
			return;
		}

		// TODO
		// For Better Performance!
		//if (_list.Contains(item: hashItem))
		//{
		//	return;
		//}

		_list.Add(item: hashItem);
	}
}
